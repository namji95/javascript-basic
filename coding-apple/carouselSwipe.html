<!document html>
<html lang="en">
    <!doctype html>
    <html lang="en">
      <head>
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <link href="main.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    
        <title>carousel</title>
      </head>
      <body>
        <div style="overflow: hidden">
            <div class="slide-container">
                <div class="slide-box">
                    <img src="image/1.png" draggable="false">
                </div>
                <div class="slide-box">
                    <img src="image/2.png">
                </div>
                <div class="slide-box">
                    <img src="image/3.png">
                </div>
            </div>
        </div>

        <script>

            // 터치와 클릭을 둘 다 동시에 개발하는 라이브러리 = Hammer.js
            // 브라우저간 호환성 잡아줌
            // 이벤트리스너 6개 말고 1개만 필요
            // 스와이프, pinch, rotate 이벤트리스너도 제공

            var start = 0;
            var down = false;

            $('.slide-box').eq(0).on('mousedown', (e) => {
                start = e.clientX;
                down = true;
            });

            $('.slide-box').eq(0).on('mousemove', (e) => {
                $('.slide-container').css('transition', '0s');
                if (down == true) {
                    $('.slide-container').css('transform', 
                    `translateX(${e.clientX - start}px)`);
                }
            });

            $('.slide-box').eq(0).on('mouseup', (e) => {
                down = false;
                console.log(e.clientX - start);
                if (e.clientX - start < -250) {
                    $('.slide-container').css({'transform':'translateX(-100vw)','transition':'1s'});
                }
                else {
                    $('.slide-container').css('transition', '1s').css('transform', 'translateX(0vw)');
                }
            });
            setTimeout(() => {
                $('.slide-container').css('transition', 'none');
            }, 500);

            // 모바일 설정 개발자도그 들어가면 모바일 화면을 볼 수 있음

            $('.slide-box').eq(0).on('touchstart', (e) => {
                start = e.touches[0].clientX;
                down = true;
            });

            $('.slide-box').eq(0).on('touchmove', (e) => {
                $('.slide-container').css('transition', '0s');
                if (down == true) {
                    $('.slide-container').css('transform', 
                    `translateX(${e.touches[0].clientX - start}px)`);
                }
            });

            $('.slide-box').eq(0).on('touchend', (e) => {
                down = false;
                console.log(e.touches[0].clientX - start);
                if (e.changedTouches.clientX - start < -100) {
                    $('.slide-container').css({'transform':'translateX(-100vw)','transition':'1s'});
                }
                else {
                    $('.slide-container').css('transition', '1s').css('transform', 'translateX(0vw)');
                }
            });
            setTimeout(() => {
                $('.slide-container').css('transition', 'none');
            }, 500);

        </script>
        
        <button class="before">이전</button>
        <button class="slide-1">1</button>
        <button class="slide-2">2</button>
        <button class="slide-3">3</button>
        <button class="next">다음</button>
    
        <script>
            var count = 0;
    
            $('.slide-1').on('click', function() {
                $('.slide-container').css('transform', 'translateX(0vw)');
            })
            $('.slide-2').on('click', function() {
                $('.slide-container').css('transform', 'translateX(-100vw)');
            })
            $('.slide-3').on('click', function() {
                $('.slide-container').css('transform', 'translateX(-200vw)');
            })
            
            $('.before').on('click', function() {
                $('.slide-container').css('transform', `translateX(-${count}00vw)`);
                count--;
            });
    
            $('.next').on('click', function() {
                $('.slide-container').css('transform', 'translateX(-' + count + '00vw)');
                count += 1;
            });
    
    
        </script>
    
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
      </body>
    </html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,
        initial-scale=1.0">
        <link href="main.css" rel="stylesheet">
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
        <title>carouselSwipe</title>

    </head>

    <body>
     
    </body>
</html>